{% extends 'base.html.twig' %}

{% block title %}Écoride - Trajet
	{{carpool.startPlace}}
	>
	{{carpool.endPlace}}
{% endblock %}

{% block body %}
	<div class="mt-5 ecoride-container rounded p-2 container d-flex justify-content-center text-center align-self-center align-self-lg-start">
		<div
			class="w-75">

			{# Zone de résumé du trajet #}

			<div class="row row-cols-lg-4 row-cols-1 p-lg-3 p-2 bg-light text-dark my-2 rounded shadow-sm bg-white">
				<div class="col mt-2">
					<div class="d-flex align-items-center justify-content-center">
						<i class="bi bi-geo-alt fs-1 me-2"></i>
						<div class="d-flex flex-column">
							<h4>Départ</h4>
							<span class="fw-bold">
								{{carpool.startplace}}</span>
							<span>
								{{carpool.startdate | date('d/m/Y - H\\hi')}}
							</span>
						</div>
					</div>
				</div>
				<div class="col mt-lg-0 mt-3">
					<div class="col d-flex justify-content-lg-center align-items-center justify-content-center">
						<i class="bi bi-arrow-right fs-1 d-none d-lg-block"></i>
						<i class="bi bi-arrow-down fs-1 d-md-block d-lg-none"></i>
					</div>
				</div>
				<div class="col mt-lg-0 mt-3">
					<div class="d-flex align-items-center justify-content-center">
						<i class="bi bi-geo-alt-fill fs-1 me-2"></i>
						<div class="d-flex flex-column">
							<h4>Arrivé</h4>
							<span class="fw-bold">
								{{carpool.endplace}}</span>
							<span>
								{{carpool.enddate | date('d/m/Y - H\\hi')}}
							</span>
						</div>
					</div>
				</div>

				<div class="col mt-lg-0 mt-3">
					<div class="d-flex align-items-center justify-content-center">
						<i class="bi bi-car-front fs-1 me-2"></i>
						<div class="d-flex flex-column">
							<h4>Véhicule</h4>
							<span class="fw-bold">
								{{user.currentcar.marque.name}}
								{{user.currentcar.model}}
							</span>
							<div class="plaque">
								<span class="plaque-side"></span>
								<span class="plaque-number">{{user.currentcar.registration}}</span>
								<span class="plaque-side"></span>
							</div>

							<span>
								{{user.currentcar.powerengine}}
							</span>
						</div>
					</div>
				</div>
			</div>
			{# Bouton de démarrage du covoiturage #}
			<div class="row p-3 justify-content-center">
				<div class="col-auto">
					<button class="btn btn-primary">
						<i class="bi bi-play-fill"></i>
						Démarrer le covoiturage
					</button>
				</div>
			</div>
			{# Zone information covoiturage -> nombre de place et prix par place #}
			<div class="row row-cols-lg-3 row-cols-1 p-lg-3 p-2 bg-light text-dark my-2 rounded shadow-sm bg-white justify-content-center">
				<div class="col d-flex align-items-center justify-content-center">
					<i class="bi bi-person-workspace fs-2 pe-2"></i>
					{{carpool.availableseat}}
					{{carpool.availableseat > 1 ? 'places disponibles' : 'place disponible'}}
				</div>
				<div class="col d-flex align-items-center justify-content-center">
					<i class="bi bi-currency-euro pe-2 fs-2"></i>
					{{carpool.pricePerPerson}}
					<i class="bi bi-coin px-1" data-bs-toggle="tooltip" data-bs-placement="top" title="Écopièce"></i>
					par place
				</div>
				<div class="col d-flex align-items-center justify-content-center">
					<i class="bi bi-piggy-bank-fill pe-2 fs-2"></i>
					{{carpool.pricePerPerson * carpool.availableseat}}
					<i class="bi bi-coin px-1" data-bs-toggle="tooltip" data-bs-placement="top" title="Écopièce"></i>
					au total
				</div>
			</div>
			<div class="row row-cols-1 p-lg-3 p-2 bg-light text-dark my-2 rounded shadow-sm bg-white justify-content-center">
				<h5 class="text-start">Participant à la course :
				</h5>
				<div class="d-flex justify-content-center gap-2 flex-wrap">
				{% if allParticipation is not empty %}
					{% for participation in allParticipation %}
						{% include 'partials/card.user.carpool.html.twig' %}
					{% endfor %}
				{% endif %}
				</div>
			</div>
		</div>
	</div>
{% endblock %}
