{% extends 'base.html.twig' %}

{% block title %}Écoride - Se connecter
{% endblock %}

{% block body %}
	{% if error %}
		<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
	{% endif %}
	<form class="oxanium mt-5 ecoride-container rounded p-5 container justify-content-center w-form" method="POST">

		{% if app.user %}
			<div class="mb-3">
				Vous êtes connecté comme étant
				{{ app.user.userIdentifier }},
				<a href="{{ path('app_logout') }}">Se déconnecter</a>
			</div>
		{% endif %}

		<h3 class="text-center viga-regular">Se connecter</h3>
		<hr>
		<div class="mb-3 mt-4">
			<label for="username" class="form-label">Nom d'utilisateur :
			</label>
			<input type="text" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="username" required autofocus>
		</div>
		<div class="mb-3 ">
			<label for="passwordField" class="form-label">Mot de passe :</label>
			<input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" required>
			<a href="{{path(name:'app_register')}}" class="form-text ecoride-link">Mot de passe oublié ?</a>

		</div>
		<div class="mb-3 form-check">
			<input type="checkbox" class="form-check-input" name="_remember_me" id="_remember_me">
			<label class="form-check-label" for="exampleCheck1">Se souvenir de moi</label>
		</div>

		<input type="hidden" name="_csrf_token" data-controller="csrf-protection" value="{{ csrf_token('authenticate') }}">

		<div class="text-center">
			<button type='submit' class='load-btn btn btn-success' data-loading-text='Connexion'>
				<span class='spinner-border spinner-border-sm ms-2 d-none' role='status' aria-hidden='true'></span>
				<span class='btn-text'>Se connecter</span>
			</button>
		</div>
		<hr>
		<div class="form-text text-center">Pas de compte ?
			<a href="{{path(name:'app_register')}}" class="ecoride-link">Cliquez ici</a>!
		</div>
	</form>

{% endblock %}
